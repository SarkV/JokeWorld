<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Password Reset</title>

    <style type="text/css">
    @import url(https://fonts.googleapis.com/css?family=Ubuntu:500);

      body {
        background-color: #9627cb;
        margin:0px;
        font-family: 'Ubuntu', sans-serif;
        background-size: 100% 110%;
      }
      h1, h2, h3, h4, h5, h6, a {
        margin:0; padding:0;
      }
      .passwordRecovery {
        margin:0 auto;
        max-width:500px;
      }
      .passwordRecovery-header {
        color:#fff;
        text-align:center;
        font-size:300%;
      }
      .passwordRecovery-form {
        border:.5px solid #fff;
        background:#00a200;
        border-radius:10px;
        box-shadow:0px 0px 10px #000;
      }
      .passwordRecovery-form h3 {
        text-align:left;
        margin-left:40px;
        color:#fff;
      }
      .passwordRecovery-form {
        box-sizing:border-box;
        padding-top:15px;
        padding-bottom:10%;
        margin:5% auto;
        text-align:center;
      }
      .passwordRecovery input[type="email"],
      .passwordRecovery input[type="password"] {
        max-width:400px;
        width: 80%;
        line-height:3em;
        font-family: 'Ubuntu', sans-serif;
        margin:1em 2em;
        border-radius:5px;
        border:2px solid #f2f2f2;
        outline:none;
        padding-left:10px;
      }
      .passwordRecovery-form input[type="submit"] {
        height:30px;
        width:150px;
        background:#fff;
        border:1px solid #f2f2f2;
        border-radius:20px;
        color: slategrey;
        text-transform:uppercase;
        font-family: 'Ubuntu', sans-serif;
        cursor:pointer;
      }

      /*Media Querie*/
      @media only screen and (min-width : 150px) and (max-width : 530px){
        .passwordRecovery-form h3 {
          text-align:center;
          margin:0;
        }
        .passwordRecovery-button {
          margin-bottom:10px;
        }
      }
    </style>
  </head>
  <body>
      <div class="passwordRecovery">
        <div class="passwordRecovery-header">
          <h1>Reset Password</h1>
        </div>
        <form class="passwordRecovery-form" action="{{ url_for('api.passwordrecoverchange', token=token) }}" method="POST">
          <h3>Email:</h3>
          <input type="email" name="email" placeholder="Email" required/><br>
          <h3>Password:</h3>
          <input type="password" name="password" id="password" placeholder="Password" oninput="setPasswordConfirmValidity();" required/>
          <br>
          <h3>Repeat Password:</h3>
          <input type="password" id="password_repeat" placeholder="Repeat Password" oninput="setPasswordConfirmValidity();" required/>
          <br>
          <input type="submit" value="Reset Password" class="passwordRecovery-button"/>
          <br>
        </div>
        <script>
    function setPasswordConfirmValidity(str) {
        const password1 = document.getElementById('password');
        const password2 = document.getElementById('password_repeat');

        if(password1.value.length < 8){
            password1.setCustomValidity('Passwords must have a length greater or equal than 8');
        }else{
             password1.setCustomValidity('');
        }

        if (password1.value === password2.value) {
             password2.setCustomValidity('');
        } else {
            password2.setCustomValidity('Passwords must match');
        }
    }
</script>
  </body>
</html>

